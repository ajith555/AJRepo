import requests
from bs4 import BeautifulSoup
import json

# Replace these with your API endpoint and cookie name
api_url = 'https://api.example.com/endpoint'
cookie_name = 'session_cookie'

# Replace this with the actual cookie value you want to send
cookie_value = 'abc123def456'

# Set up the request headers with the cookie
headers = {'Cookie': f'{cookie_name}={cookie_value}'}

# Make the API request with the cookies as credentials
response = requests.get(api_url, headers=headers)

# Parse the HTML content using BeautifulSoup
soup = BeautifulSoup(response.content, 'html.parser')

# Find the JSON data within the HTML (adjust this based on the HTML structure)
json_string = soup.find('script', {'type': 'application/json'}).string

# Parse the JSON string into a JSON object
json_data = json.loads(json_string)

# Now you can access the key-value data in the JSON object
print(json_data['key'])
